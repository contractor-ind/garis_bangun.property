<!DOCTYPE html>
<html lang="id">
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<meta charset="UTF-8">
<title>Garis Property | Estimasi RAB Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial}
body{background:#f1f5f9}

header{
  background:#020617;
  color:white;
  padding:20px 40px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

nav a{color:white;margin-left:20px;text-decoration:none;font-weight:bold}

.hero{
  background:#0f172a;
  color:white;
  padding:80px 40px;
}

.hero h1{font-size:40px}
.hero p{margin:15px 0}

.btn{
  background:#22c55e;
  padding:12px 20px;
  color:white;
  border:none;
  border-radius:6px;
  font-weight:bold;
  cursor:pointer;
  text-decoration:none;
}

section{
  padding:60px 40px;
  background:white;
  margin-top:10px;
}

.section-title{
  text-align:center;
  font-size:32px;
  margin-bottom:30px;
}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:20px;
}

.card{
  background:#f8fafc;
  padding:20px;
  border-radius:10px;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
}

label{font-weight:bold}
input,select{
  width:100%;
  padding:10px;
  margin:8px 0 15px;
}

table{
  width:100%;
  border-collapse:collapse;
  margin-top:10px;
}

table th, table td{
  border:1px solid #ccc;
  padding:10px;
  text-align:right;
}

table th{text-align:left;background:#e2e8f0}

tfoot td{
  font-weight:bold;
  background:#c7d2fe;
}

footer{
  background:#020617;
  color:white;
  text-align:center;
  padding:20px;
}

.wa{
  position:fixed;
  bottom:20px;
  right:20px;
  background:#25D366;
  color:white;
  padding:15px 20px;
  border-radius:50px;
  text-decoration:none;
  font-weight:bold;
}
</style>
</head>

<body>

<header>
  <h2>Garis Property</h2>
  <nav>
    <a href="#rab">Estimasi RAB</a>
    <a href="#kontak">Kontak</a>
  </nav>
</header>

<div class="hero">
  <h1>Estimasi RAB Bangunan Profesional</h1>
  <p>Rumah ‚Ä¢ Ruko ‚Ä¢ Interior | Transparan & Akurat</p>
  <a href="#rab" class="btn">Hitung Sekarang</a>
</div>

<section id="rab">
<h2 class="section-title">Estimasi RAB Level PRO</h2>

<div class="grid">

<!-- INPUT -->
<div class="card">
  <label>Luas Bangunan (m¬≤)</label>
  <input type="number" id="luas" placeholder="Contoh: 120">

  <label>Jumlah Lantai</label>
  <select id="lantai">
    <option value="1">1 Lantai</option>
    <option value="1.8">2 Lantai</option>
    <option value="2.5">3 Lantai</option>
  </select>

  <label>Jenis Bangunan</label>
  <select id="jenis">
    <option value="1">Rumah</option>
    <option value="1.2">Ruko</option>
    <option value="0.8">Interior</option>
  </select>

  <label>Kualitas Material</label>
  <select id="material">
    <option value="3500000">Standar (3.5 jt/m¬≤)</option>
    <option value="4500000">Menengah (4.5 jt/m¬≤)</option>
    <option value="6000000">Premium (6 jt/m¬≤)</option>
  </select>

  <button class="btn" onclick="hitung()">Hitung RAB</button>
</div>

<!-- OUTPUT -->
<div class="card">
  <h3>Rincian RAB</h3>
<button class="btn" onclick="exportPDF()">Export PDF</button>

  <table>
    <thead>
      <tr><th>Item</th><th>Biaya</th></tr>
    </thead>
    <tbody id="rincian"></tbody>
    <tfoot>
      <tr><td>Total</td><td id="total"></td></tr>
    </tfoot>
  </table>

  <br>
  <a id="btnWA" class="btn" target="_blank" style="display:none">Kirim ke WhatsApp</a>
</div>

</div>
</section>

<section id="kontak">
<h2 class="section-title">Kontak</h2>
<p>üìç Yogyakarta</p>
<p>üìû 0812-XXXX-XXXX</p>
<p>üìß garisproperty@gmail.com</p>
</section>

<footer>
¬© 2026 Garis Property
</footer>

<a href="https://wa.me/62812XXXXXXXX" class="wa">üí¨ WhatsApp</a>

<script>
  let harga = localStorage.getItem("harga") || 3500000;

function exportPDF(){
  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF();

  pdf.setFontSize(14);
  pdf.text("RAB GARIS PROPERTY", 20, 20);

  let y = 40;
  document.querySelectorAll("#rincian tr").forEach(row=>{
    let cols = row.querySelectorAll("td");
    pdf.text(cols[0].innerText, 20, y);
    pdf.text(cols[1].innerText, 120, y);
    y += 10;
  });

  pdf.text("TOTAL: " + document.getElementById("total").innerText, 20, y+10);
  pdf.save("RAB-Garis-Property.pdf");
}
</script>

function rupiah(x){
  return new Intl.NumberFormat('id-ID',{
    style:'currency',currency:'IDR'
  }).format(x);
}

function hitung(){
  kirimSheet({
  nama:"Visitor",
  luas:luas,
  lantai:lantai,
  jenis:jenis,
  material:harga,
  total:total
});

  let luas = +document.getElementById("luas").value;
  let lantai = +document.getElementById("lantai").value;
  let jenis = +document.getElementById("jenis").value;
  let harga = +document.getElementById("material").value;

  let dasar = luas * harga * lantai * jenis;

  let data = {
    "Persiapan (5%)": dasar * 0.05,
    "Pondasi (15%)": dasar * 0.15,
    "Struktur (30%)": dasar * 0.30,
    "Dinding (15%)": dasar * 0.15,
    "Atap (10%)": dasar * 0.10,
    "Finishing (25%)": dasar * 0.25
  };

  let html="";
  let total=0;
  for(let k in data){
    total+=data[k];
    html+=`<tr><td>${k}</td><td>${rupiah(data[k])}</td></tr>`;
  }

  document.getElementById("rincian").innerHTML=html;
  document.getElementById("total").innerHTML=rupiah(total);

  let text = encodeURIComponent(
    "Halo Garis Property,%0A"+
    "Estimasi RAB:%0A"+
    "Luas: "+luas+" m2%0A"+
    "Total: "+rupiah(total)
  );

  let wa="https://wa.me/6282332972255?text="+text;
  let btn=document.getElementById("btnWA");
  btn.href=wa;
  btn.style.display="inline-block";
}
</script>

</body>
</html>
